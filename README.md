# üéì E-Learn Platform

> –ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è –∑ –º—É–ª—å—Ç–∏–º–æ–≤–Ω–æ—é –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é (UA/PL/EN), —Å–∏—Å—Ç–µ–º–æ—é –ø—Ä–æ–≥—Ä–µ—Å—É, —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–º–∏ –∫–≤—ñ–∑–∞–º–∏ —Ç–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ—é –ø–∞–Ω–µ–ª–ª—é.

[![TypeScript](https://img.shields.io/badge/TypeScript-5.6-blue.svg)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-18.2-61dafb.svg)](https://reactjs.org/)
[![Express](https://img.shields.io/badge/Express-4.19-green.svg)](https://expressjs.com/)
[![Prisma](https://img.shields.io/badge/Prisma-5.19-2D3748.svg)](https://www.prisma.io/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-336791.svg)](https://www.postgresql.org/)
[![Vite](https://img.shields.io/badge/Vite-5.1-646CFF.svg)](https://vitejs.dev/)

## üåü –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### üë®‚Äçüéì –î–ª—è —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤
- üìö **–°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π –Ω–∞–≤—á–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç** ‚Äî —ñ—î—Ä–∞—Ä—Ö—ñ—á–Ω—ñ —Ç–µ–º–∏ –∑ –ø—ñ–¥—Ç–µ–º–∞–º–∏ —Ç–∞ –º–∞—Ç–µ—Ä—ñ–∞–ª–∞–º–∏ (PDF, –≤—ñ–¥–µ–æ, —Ç–µ–∫—Å—Ç, –ø–æ—Å–∏–ª–∞–Ω–Ω—è)
- üåç **–ú—É–ª—å—Ç–∏–º–æ–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞** ‚Äî UA/PL/EN –∑ –ª–æ–∫–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –¥–ª—è –∫–æ–∂–Ω–æ—ó –º–æ–≤–∏
- üéØ **–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –∫–≤—ñ–∑–∏** ‚Äî —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑–Ω–∞–Ω—å –∑ –º–∏—Ç—Ç—î–≤–∏–º –∑–≤–æ—Ä–æ—Ç–Ω—ñ–º –∑–≤'—è–∑–∫–æ–º
- üèÜ **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—É** ‚Äî XP, —Ä—ñ–≤–Ω—ñ, –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è, –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤
- üìä **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—É —Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- üîç **–ì–ª–æ–±–∞–ª—å–Ω–∏–π –ø–æ—à—É–∫** ‚Äî —à–≤–∏–¥–∫–∏–π –ø–æ—à—É–∫ –ø–æ –≤—Å—å–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É
- üèÖ **–¢–∞–±–ª–∏—Ü—è –ª—ñ–¥–µ—Ä—ñ–≤** ‚Äî –∑–º–∞–≥–∞–Ω–Ω—è –º—ñ–∂ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏

### üë®‚Äçüíº –î–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç—É
- ‚úèÔ∏è **–†–µ–¥–∞–∫—Ç–æ—Ä –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤** ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–Ω—Ç—É
- üåê **–ú—É–ª—å—Ç–∏–º–æ–≤–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è** ‚Äî –æ–∫—Ä–µ–º—ñ –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Ç–∞ –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –∫–æ–∂–Ω–æ—ó –º–æ–≤–∏
- üì§ **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤** ‚Äî –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ PDF, –≤—ñ–¥–µ–æ —á–µ—Ä–µ–∑ S3/R2 storage
- üîÑ **–ö–æ–Ω—Ç—Ä–æ–ª—å —Å—Ç–∞—Ç—É—Å—É** ‚Äî Draft/Published –¥–ª—è –ø–æ–µ—Ç–∞–ø–Ω–æ—ó –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó
- üìù **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–≤—ñ–∑–∞–º–∏** ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∏—Ç–∞–Ω—å –∑ –ª–æ–∫–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏

### üë®‚Äçüíª –î–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤
- üë• **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏** ‚Äî —Ä–æ–ª—ñ (STUDENT, EDITOR, ADMIN), —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- üìà **–°–∏—Å—Ç–µ–º–Ω–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∞** ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –∫–æ–Ω—Ç–µ–Ω—Ç—É, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- üóÇÔ∏è **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º** ‚Äî —Ç–µ–º–∏, –º–∞—Ç–µ—Ä—ñ–∞–ª–∏, –∫–≤—ñ–∑–∏, —Ñ–∞–π–ª–∏
- üìù **–ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç—É** ‚Äî –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
- üîê **–ë–µ–∑–ø–µ–∫–∞** ‚Äî CSRF –∑–∞—Ö–∏—Å—Ç, rate limiting, role-based access control

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
elearn-monorepo/
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îî‚îÄ‚îÄ shared/                 # –°–ø—ñ–ª—å–Ω—ñ TypeScript —Ç–∏–ø–∏
‚îÇ       ‚îî‚îÄ‚îÄ src/types/          # API –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏, –º–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö (index.ts)
‚îÇ
‚îú‚îÄ‚îÄ elearn-backend/             # Express + Prisma API —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ routes/             # API endpoints
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts         # –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ admin.ts        # –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ topics.ts       # –¢–µ–º–∏
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ lessons.ts      # –£—Ä–æ–∫–∏
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ quiz.ts         # –ö–≤—ñ–∑–∏
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ progress.ts     # –ü—Ä–æ–≥—Ä–µ—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ editor.ts       # –†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç—É
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ files.ts        # –§–∞–π–ª–∏ (S3/R2)
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ i18n.ts         # –ü–µ—Ä–µ–∫–ª–∞–¥–∏
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ dashboard.ts    # Dashboard API
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ activity.ts     # –ê–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
‚îÇ       ‚îú‚îÄ‚îÄ middleware/         # Auth, CSRF, validation, rateLimit, errorHandler
‚îÇ       ‚îú‚îÄ‚îÄ services/           # –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ (ai, audit, email, storage, etc.)
‚îÇ       ‚îú‚îÄ‚îÄ schemas/            # Zod –≤–∞–ª—ñ–¥–∞—Ü—ñ—è
‚îÇ       ‚îú‚îÄ‚îÄ prisma/             # Schema, migrations, seeds
‚îÇ       ‚îú‚îÄ‚îÄ utils/              # –£—Ç–∏–ª—ñ—Ç–∏ (logger, i18n, gamification)
‚îÇ       ‚îî‚îÄ‚îÄ config/             # [–î–û–î–ê–ù–û] –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (dailyGoals.ts, weakSpots.ts)
‚îÇ
‚îú‚îÄ‚îÄ elearn-front/               # React + Vite SPA
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ pages/              # –°—Ç–æ—Ä—ñ–Ω–∫–∏
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx   # –ì–æ–ª–æ–≤–Ω–∞ –ø–∞–Ω–µ–ª—å
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Materials.tsx   # –ü–µ—Ä–µ–≥–ª—è–¥ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ LessonView.tsx  # –ü–µ—Ä–µ–≥–ª—è–¥ —É—Ä–æ–∫—ñ–≤
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Leaderboard.tsx # –¢–∞–±–ª–∏—Ü—è –ª—ñ–¥–µ—Ä—ñ–≤
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Profile.tsx     # –ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Login.tsx       # –í—Ö—ñ–¥
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Register.tsx    # –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ NotFound.tsx    # [–î–û–î–ê–ù–û] –°—Ç–æ—Ä—ñ–Ω–∫–∞ 404
‚îÇ       ‚îÇ   ‚îÇ
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ admin/          # –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminLayout.tsx       # [–î–û–î–ê–ù–û] –û–∫—Ä–µ–º–∏–π Layout –¥–ª—è –∞–¥–º—ñ–Ω–∫–∏
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminDashboard.tsx
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminUsers.tsx
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminUserDetails.tsx  # [–î–û–î–ê–ù–û] –î–µ—Ç–∞–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminContent.tsx
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminTopics.tsx
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminFiles.tsx
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AdminAuditLogs.tsx
‚îÇ       ‚îÇ   ‚îÇ
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ materialsComponents/      # [–î–û–î–ê–ù–û] –°–∫–ª–∞–¥–æ–≤—ñ –¥–ª—è Materials.tsx
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ TopicSidebar.tsx      # –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –ø–æ —Ç–µ–º–∞—Ö
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ DashboardView.tsx     # –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –¥–∞—à–±–æ—Ä–¥ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ ...                   # –Ü–Ω—à—ñ –º–æ–¥–∞–ª–∫–∏ —Ç–∞ –≤—ñ–¥–∂–µ—Ç–∏ –¥–ª—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ components/         # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ (admin/, dashboard/, –∑–∞–≥–∞–ª—å–Ω—ñ)
‚îÇ       ‚îú‚îÄ‚îÄ hooks/              # Custom React hooks (useActivityTracker, useAdmin, useFileUpload)
‚îÇ       ‚îú‚îÄ‚îÄ auth/               # –ö–æ–Ω—Ç–µ–∫—Å—Ç –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
‚îÇ       ‚îú‚îÄ‚îÄ i18n/               # –Ü–Ω—Ç–µ—Ä–Ω–∞—Ü—ñ–æ–Ω–∞–ª—ñ–∑–∞—Ü—ñ—è (locales: en, pl, ua)
‚îÇ       ‚îú‚îÄ‚îÄ store/              # Zustand state management (catalog, i18n, theme)
‚îÇ       ‚îú‚îÄ‚îÄ lib/                # HTTP –∫–ª—ñ—î–Ω—Ç, API –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏ (editorApi, http)
‚îÇ       ‚îî‚îÄ‚îÄ utils/              # [–î–û–î–ê–ù–û] –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó (formatters, storage, colors)
‚îÇ
‚îú‚îÄ‚îÄ package.json                # Monorepo root (workspaces)
‚îú‚îÄ‚îÄ package-lock.json           # –ó–∞–≥–∞–ª—å–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
‚îî‚îÄ‚îÄ tsconfig.json               # –ì–ª–æ–±–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ñ—ñ–≥ TypeScript
```

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

### Frontend
| –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è | –í–µ—Ä—Å—ñ—è | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|------------|--------|-------------|
| React | 18.2 | UI –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ |
| TypeScript | 5.3 | Type safety |
| Vite | 5.1 | Build tool |
| React Router | 6.22 | Client-side routing |
| Zustand | 4.5 | State management |
| Tailwind CSS | 3.4 | Styling |
| Lucide React | 0.344 | –Ü–∫–æ–Ω–∫–∏ |
| Axios | 1.13 | HTTP –∫–ª—ñ—î–Ω—Ç |

### Backend
| –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è | –í–µ—Ä—Å—ñ—è | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|------------|--------|-------------|
| Node.js | 20+ | Runtime |
| Express | 4.19 | Web framework |
| TypeScript | 5.6 | Type safety |
| Prisma | 5.19 | ORM |
| PostgreSQL | 16 | –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö |
| JWT | - | –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è |
| Zod | 3.23 | –í–∞–ª—ñ–¥–∞—Ü—ñ—è |
| Helmet | 7.1 | Security headers |
| Winston | 3.19 | –õ–æ–≥—É–≤–∞–Ω–Ω—è |
| AWS SDK | 3.958 | S3/R2 storage |

### DevOps & Tools
| –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|------------|-------------|
| Vitest | –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è |
| npm workspaces | Monorepo |
| tsx | TypeScript execution |
| Cloudflare R2 | File storage |
| Wrangler | Deployment |

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –í–∏–º–æ–≥–∏

- **Node.js** >= 20.0.0
- **PostgreSQL** >= 16.0
- **npm** >= 10.0.0

### 1Ô∏è‚É£ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
# –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone https://github.com/your-username/elearn-platform.git
cd elearn-platform

# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
npm install
```

### 2Ô∏è‚É£ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Backend

```bash
cd elearn-backend
```

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env`:

```env
# Database
DATABASE_URL="postgresql://postgres:password@localhost:5432/elearn?schema=public"

# Server
PORT=4000
CORS_ORIGIN="http://localhost:5173"
FRONTEND_URL=http://localhost:5173
NODE_ENV=development

# JWT
JWT_SECRET="your-super-secret-key-min-32-characters"

# Email (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
MAILTRAP_HOST=smtp.mailtrap.io
MAILTRAP_PORT=587
MAILTRAP_USER=your_username
MAILTRAP_PASS=your_password
MAIL_FROM="E-Learn <noreply@elearn.com>"

# R2/S3 Storage (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
R2_ACCOUNT_ID=your_account_id
R2_ACCESS_KEY_ID=your_access_key
R2_SECRET_ACCESS_KEY=your_secret_key
R2_BUCKET_NAME=elearn-files

# Rate Limiting
RL_GENERAL_WINDOW_MS=60000
RL_GENERAL_LIMIT=200
RL_AUTH_WINDOW_MS=900000
RL_AUTH_LIMIT=10
```

–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö:

```bash
npm run prisma:generate   # –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è Prisma client
npm run prisma:migrate    # –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –º—ñ–≥—Ä–∞—Ü—ñ–π
npm run db:seed           # –ó–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏
```

### 3Ô∏è‚É£ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Frontend

```bash
cd ../elearn-front
```

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env.local`:

```env
VITE_API_URL=http://localhost:4000
```

### 4Ô∏è‚É£ –ó–∞–ø—É—Å–∫

**–í–∞—Ä—ñ–∞–Ω—Ç 1: –†–∞–∑–æ–º (–∑ –∫–æ—Ä–µ–Ω–µ–≤–æ—ó –ø–∞–ø–∫–∏)**

```bash
npm run dev
```

**–í–∞—Ä—ñ–∞–Ω—Ç 2: –û–∫—Ä–µ–º–æ**

```bash
# Terminal 1 - Backend
cd elearn-backend
npm run dev
# ‚Üí http://localhost:4000

# Terminal 2 - Frontend
cd elearn-front
npm run dev
# ‚Üí http://localhost:5173
```

### 5Ô∏è‚É£ –¢–µ—Å—Ç–æ–≤—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –∑–∞–ø–∏—Å–∏

```
üë®‚Äçüíº Admin:
   Email: admin@elearn.local
   Password: admin123

‚úçÔ∏è Editor:
   Email: editor@example.com
   Password: Editor123!

üéì Student:
   Email: student@example.com
   Password: Student123!
```

## üì¶ –î–æ—Å—Ç—É–ø–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏

### Root (Monorepo)

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å |
|---------|------|
| `npm run dev` | –ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ |
| `npm run dev:backend` | –¢—ñ–ª—å–∫–∏ backend |
| `npm run dev:frontend` | –¢—ñ–ª—å–∫–∏ frontend |
| `npm run build` | –ó–±—ñ—Ä–∫–∞ –≤—Å—ñ—Ö –ø–∞–∫–µ—Ç—ñ–≤ |
| `npm run test` | –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ |
| `npm run clean` | –û—á–∏—Å—Ç–∏—Ç–∏ node_modules |

### Backend

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å |
|---------|------|
| `npm run dev` | Watch mode |
| `npm run build` | Production build |
| `npm start` | –ó–∞–ø—É—Å–∫ production |
| `npm run prisma:generate` | –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è Prisma client |
| `npm run prisma:migrate` | –ù–æ–≤–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è |
| `npm run db:seed` | Seed –¥–∞–Ω–∏—Ö |
| `npm run db:status` | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É –ë–î |
| `npm run db:publish` | –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ Draft –∑–∞–ø–∏—Å–∏ |
| `npm run test` | –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ |
| `npm run test:coverage` | Coverage –∑–≤—ñ—Ç |

### Frontend

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å |
|---------|------|
| `npm run dev` | Dev server |
| `npm run build` | Production build |
| `npm run preview` | Preview build |
| `npm run deploy` | Deploy to Cloudflare Pages |
| `npm run test` | –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ |
| `npm run lint` | TypeScript –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ |

## üóÑÔ∏è –ú–æ–¥–µ–ª—å –¥–∞–Ω–∏—Ö

### –û—Å–Ω–æ–≤–Ω—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ

```
User
‚îú‚îÄ‚îÄ id, email, name, password
‚îú‚îÄ‚îÄ role: STUDENT | EDITOR | ADMIN
‚îú‚îÄ‚îÄ xp, emailVerified, isPremium
‚îú‚îÄ‚îÄ avatarFile ‚Üí File
‚îî‚îÄ‚îÄ viewedMaterials[]

Topic
‚îú‚îÄ‚îÄ id, slug, name
‚îú‚îÄ‚îÄ titleCache, descCache (JSON: {UA, EN, PL})
‚îú‚îÄ‚îÄ category: Programming | Databases | ...
‚îú‚îÄ‚îÄ status: Draft | Published
‚îú‚îÄ‚îÄ parent ‚Üí Topic (—ñ—î—Ä–∞—Ä—Ö—ñ—è)
‚îú‚îÄ‚îÄ children[] ‚Üí Topic[]
‚îú‚îÄ‚îÄ materials[] ‚Üí Material[]
‚îî‚îÄ‚îÄ quizzes[] ‚Üí Quiz[]

Material
‚îú‚îÄ‚îÄ id, title, type: pdf | video | link | text
‚îú‚îÄ‚îÄ titleCache, contentCache, urlJson (JSON)
‚îú‚îÄ‚îÄ status: Draft | Published
‚îú‚îÄ‚îÄ file ‚Üí File
‚îî‚îÄ‚îÄ topic ‚Üí Topic

Quiz
‚îú‚îÄ‚îÄ id, title, durationSec
‚îú‚îÄ‚îÄ titleCache (JSON)
‚îú‚îÄ‚îÄ status: Draft | Published
‚îú‚îÄ‚îÄ questions[] ‚Üí Question[]
‚îî‚îÄ‚îÄ topic ‚Üí Topic

Question
‚îú‚îÄ‚îÄ id, text, explanation
‚îú‚îÄ‚îÄ textJson, explanationJson (JSON)
‚îú‚îÄ‚îÄ difficulty: Easy | Medium | Hard
‚îî‚îÄ‚îÄ options[] ‚Üí Option[]

File
‚îú‚îÄ‚îÄ id, key, bucket, originalName
‚îú‚îÄ‚îÄ mimeType, size, visibility
‚îî‚îÄ‚îÄ confirmed
```

## üîí –ë–µ–∑–ø–µ–∫–∞

| –§—É–Ω–∫—Ü—ñ—è | –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è |
|---------|------------|
| –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è | JWT Access + Refresh —Ç–æ–∫–µ–Ω–∏ |
| CSRF –∑–∞—Ö–∏—Å—Ç | Double submit cookie pattern |
| XSS –∑–∞—Ö–∏—Å—Ç | HTTP-only cookies, DOMPurify |
| Rate limiting | Express Rate Limit |
| –í–∞–ª—ñ–¥–∞—Ü—ñ—è | Zod schemas |
| Security headers | Helmet middleware |
| RBAC | STUDENT/EDITOR/ADMIN —Ä–æ–ª—ñ |
| Audit logging | –õ–æ–≥—É–≤–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ–π |

## üåç –ú—É–ª—å—Ç–∏–º–æ–≤–Ω–∞ —Å–∏—Å—Ç–µ–º–∞

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø—ñ–¥—Ç—Ä–∏–º—É—î 3 –º–æ–≤–∏: üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞, üáµüá± –ü–æ–ª—å—Å—å–∫–∞, üá¨üáß English

### JSON Cache –ø—ñ–¥—Ö—ñ–¥

–õ–æ–∫–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ JSON –ø–æ–ª—è—Ö –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø—É:

```json
{
  "titleCache": { "UA": "–û—Å–Ω–æ–≤–∏ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è", "EN": "Programming Basics", "PL": "Podstawy programowania" },
  "contentCache": { "UA": "...", "EN": "...", "PL": "..." },
  "urlJson": { "UA": "file-ua.pdf", "EN": "file-en.pdf", "PL": "file-pl.pdf" }
}
```

### –ü–µ—Ä–µ–≤–∞–≥–∏

- ‚úÖ O(1) –¥–æ—Å—Ç—É–ø –¥–æ –ª–æ–∫–∞–ª—ñ–∑–æ–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- ‚úÖ –ù–µ–º–∞—î JOIN –ø—Ä–∏ –∑–∞–ø–∏—Ç–∞—Ö
- ‚úÖ –†—ñ–∑–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç/URL –¥–ª—è –∫–æ–∂–Ω–æ—ó –º–æ–≤–∏
- ‚úÖ –õ–µ–≥–∫–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –º–æ–≤
- ‚úÖ Fallback: lang ‚Üí EN ‚Üí –ø–µ—Ä—à–∞ –Ω–∞—è–≤–Ω–∞

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
# Backend
cd elearn-backend
npm run test              # –í—Å—ñ —Ç–µ—Å—Ç–∏
npm run test:watch        # Watch mode
npm run test:coverage     # Coverage –∑–≤—ñ—Ç

# Frontend
cd elearn-front
npm run test              # –í—Å—ñ —Ç–µ—Å—Ç–∏
```

## üìù API Endpoints

### Auth
- `GET /api/auth/csrf` ‚Äî CSRF —Ç–æ–∫–µ–Ω
- `POST /api/auth/register` ‚Äî –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
- `POST /api/auth/login` ‚Äî –í—Ö—ñ–¥
- `POST /api/auth/refresh` ‚Äî –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω–∞
- `POST /api/auth/logout` ‚Äî –í–∏—Ö—ñ–¥

### Content
- `GET /api/topics` ‚Äî –î–µ—Ä–µ–≤–æ —Ç–µ–º
- `GET /api/topics/:slug` ‚Äî –î–µ—Ç–∞–ª—ñ —Ç–µ–º–∏
- `GET /api/lessons/:slug` ‚Äî –£—Ä–æ–∫ –∑ –º–∞—Ç–µ—Ä—ñ–∞–ª–∞–º–∏
- `GET /api/quiz/:id` ‚Äî –ö–≤—ñ–∑
- `POST /api/quiz/:id/submit` ‚Äî –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π

### Progress
- `GET /api/progress` ‚Äî –ü—Ä–æ–≥—Ä–µ—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `POST /api/progress/view/:materialId` ‚Äî –ü–æ–∑–Ω–∞—á–∏—Ç–∏ –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏–º
- `GET /api/dashboard` ‚Äî Dashboard –¥–∞–Ω—ñ

### Admin
- `GET /api/admin/stats` ‚Äî –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º–∏
- `GET /api/admin/users` ‚Äî –°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- `GET /api/admin/audit-logs` ‚Äî –ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç—É

### Files
- `POST /api/files/presign-upload` ‚Äî Presigned URL
- `POST /api/files/confirm` ‚Äî –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è

## üöÄ Deployment

### Frontend (Cloudflare Pages)

```bash
cd elearn-front
npm run build
npm run deploy
```

### Backend

```bash
cd elearn-backend
npm run build
npm start
```

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License

---

‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û**: –ù—ñ–∫–æ–ª–∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ `npm run db:reset:confirm` –Ω–∞ production!

–ü–µ—Ä–µ–¥ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—î—é:
```bash
cd elearn-backend
npm run db:status    # –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞–Ω
npm run db:publish   # –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ Draft –∑–∞–ø–∏—Å–∏
```
